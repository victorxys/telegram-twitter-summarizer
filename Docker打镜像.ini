Docker打镜像
  1. 在你的本地开发机上：

  首先，确保你已经登录了 Docker Hub：
   1 docker login

  然后，构建并推送一个带明确版本号的镜像。我们从 v1.1 开始：

    1 # 构建镜像，并打上 v1.1 标签
    2 docker build -t victorxys/telegram-summarize-bot:v1.1 .
    3 
    4 # 同时，为了方便，也可以给它打上 latest 标签
    5 docker tag victorxys/telegram-summarize-bot:v1.1 victorxys/telegram-summarize-bot:latest
    6 
    7 # 推送 v1.1 版本
    8 docker push victorxys/telegram-summarize-bot:v1.1
    9 
   10 # (可选) 推送 latest 版本
   11 docker push victorxys/telegram-summarize-bot:latest
  这样，v1.1 就成了一个不可变的、指向特定代码版本的快照。

  2. 在你的生产服务器上：

  首先，修改你的 docker-compose.yml 文件，把 image 指向你刚刚推送的确定版本：

   1 version: '3.3'
   2 
   3 services:
   4   bot:
   5     image: victorxys/telegram-summarize-bot:v1.1  # <-- 把 'latest' 改成 'v1.1'
   6     container_name: my-telegram-bot
   7     restart: unless-stopped
   8     env_file:
   9       - .env

  然后，在包含 docker-compose.yml 的目录里，执行以下命令来拉取新镜像并重启服务：

   1 # 拉取 docker-compose.yml 文件中定义的所有镜像的新版本
   2 docker-compose pull
   3 
   4 # 使用新镜像重新创建并启动服务
   5 docker-compose up -d